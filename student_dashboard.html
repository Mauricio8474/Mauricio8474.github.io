<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mi Dashboard - MateJuegos</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
            min-height: 100vh;
            color: #f8fafc;
        }

        /* Header */
        .header {
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: #3b82f6;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .logo::before {
            content: "🧮";
            font-size: 2rem;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .user-avatar {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
            font-weight: bold;
        }

        .welcome-text {
            color: #cbd5e1;
        }

        .welcome-text h2 {
            color: white;
            font-size: 1.2rem;
            margin-bottom: 0.2rem;
        }

        .logout-btn {
            background: rgba(239, 68, 68, 0.2);
            color: #ef4444;
            border: 1px solid rgba(239, 68, 68, 0.3);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .logout-btn:hover {
            background: rgba(239, 68, 68, 0.3);
        }

        /* Main Layout */
        .dashboard-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 2rem;
        }

        .main-content {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        /* Cards Base */
        .card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 2rem;
            transition: all 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            border-color: rgba(59, 130, 246, 0.3);
        }

        /* Welcome Section */
        .welcome-section {
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            color: white;
            position: relative;
            overflow: hidden;
        }

        .welcome-section::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 200px;
            height: 200px;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><text y="50" font-size="60">📊</text></svg>') no-repeat center;
            opacity: 0.1;
            transform: translate(50%, -50%);
        }

        .welcome-content {
            position: relative;
            z-index: 2;
        }

        .welcome-section h1 {
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .grade-badge {
            background: rgba(255, 255, 255, 0.2);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            display: inline-block;
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .quick-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
            margin-top: 2rem;
        }

        .stat-item {
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .stat-label {
            opacity: 0.9;
            font-size: 0.9rem;
        }

        /* Progress Section */
        .progress-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .progress-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 2rem;
            text-align: center;
            transition: all 0.3s ease;
        }

        .progress-card:hover {
            transform: translateY(-5px);
            border-color: rgba(59, 130, 246, 0.3);
        }

        .progress-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .progress-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: #f1f5f9;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            margin: 1rem 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
            border-radius: 4px;
            transition: width 1s ease;
        }

        .progress-text {
            color: #cbd5e1;
            font-size: 0.9rem;
        }

        /* Games Grid */
        .games-section h2 {
            color: #f1f5f9;
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .game-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .game-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            border-color: rgba(59, 130, 246, 0.3);
        }

        .game-header {
            padding: 1.5rem 1.5rem 1rem 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .game-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .game-info h3 {
            color: #f1f5f9;
            font-size: 1.1rem;
            margin-bottom: 0.3rem;
        }

        .game-category {
            color: #64748b;
            font-size: 0.9rem;
        }

        .game-progress {
            padding: 0 1.5rem 1.5rem 1.5rem;
        }

        .game-status {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .status-badge {
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .status-new {
            background: rgba(34, 197, 94, 0.2);
            color: #22c55e;
        }

        .status-progress {
            background: rgba(249, 115, 22, 0.2);
            color: #f97316;
        }

        .status-completed {
            background: rgba(59, 130, 246, 0.2);
            color: #3b82f6;
        }

        .status-locked {
            background: rgba(100, 116, 139, 0.2);
            color: #64748b;
        }

        .stars {
            display: flex;
            gap: 0.2rem;
        }

        .star {
            color: #fbbf24;
            font-size: 1rem;
        }

        .star.empty {
            color: #374151;
        }

        .play-btn {
            width: 100%;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            color: white;
            border: none;
            padding: 0.8rem;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .play-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(59, 130, 246, 0.3);
        }

        .play-btn:disabled {
            background: rgba(100, 116, 139, 0.5);
            cursor: not-allowed;
            transform: none;
        }

        /* Sidebar Cards */
        .achievements-card,
        .leaderboard-card,
        .streak-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 1.5rem;
        }

        .achievements-card h3,
        .leaderboard-card h3,
        .streak-card h3 {
            color: #f1f5f9;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .achievement-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.8rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .achievement-item:last-child {
            border-bottom: none;
        }

        .achievement-icon {
            font-size: 2rem;
        }

        .achievement-info h4 {
            color: #f1f5f9;
            font-size: 0.9rem;
            margin-bottom: 0.2rem;
        }

        .achievement-desc {
            color: #94a3b8;
            font-size: 0.8rem;
        }

        .leaderboard-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.8rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .leaderboard-item:last-child {
            border-bottom: none;
        }

        .leaderboard-position {
            font-weight: bold;
            color: #3b82f6;
        }

        .leaderboard-name {
            color: #f1f5f9;
        }

        .leaderboard-score {
            color: #fbbf24;
            font-weight: 600;
        }

        .streak-number {
            font-size: 3rem;
            font-weight: bold;
            text-align: center;
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 0.5rem;
        }

        .streak-text {
            text-align: center;
            color: #cbd5e1;
        }

        .streak-calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 0.3rem;
            margin-top: 1rem;
        }

        .calendar-day {
            aspect-ratio: 1;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            background: rgba(255, 255, 255, 0.1);
            color: #64748b;
        }

        .calendar-day.active {
            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
            color: white;
        }

        .calendar-day.today {
            border: 2px solid #fbbf24;
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .dashboard-container {
                grid-template-columns: 1fr;
            }

            .sidebar {
                order: -1;
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: 1rem;
            }
        }

        @media (max-width: 768px) {
            .dashboard-container {
                padding: 1rem;
            }

            .quick-stats {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .games-grid {
                grid-template-columns: 1fr;
            }

            .header-content {
                padding: 0 1rem;
            }

            .user-info {
                gap: 0.5rem;
            }

            .welcome-text {
                display: none;
            }
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .card {
            animation: fadeInUp 0.6s ease forwards;
        }

        .game-card:nth-child(1) { animation-delay: 0.1s; }
        .game-card:nth-child(2) { animation-delay: 0.2s; }
        .game-card:nth-child(3) { animation-delay: 0.3s; }
        .game-card:nth-child(4) { animation-delay: 0.4s; }
        .game-card:nth-child(5) { animation-delay: 0.5s; }
        .game-card:nth-child(6) { animation-delay: 0.6s; }

        /* Floating Math Symbols */
        .math-float {
            position: fixed;
            pointer-events: none;
            z-index: -1;
            animation: mathFloat 15s linear infinite;
            opacity: 0.05;
            font-size: 2rem;
            color: #3b82f6;
        }

        @keyframes mathFloat {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10%, 90% {
                opacity: 0.05;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="logo">MateJuegos</div>
            <div class="user-info">
                <div class="welcome-text">
                    <h2>¡Hola, María!</h2>
                    <p>8° Grado - Colegio San Patricio</p>
                </div>
                <div class="user-avatar" id="userAvatar">M</div>
                <a href="math_games_website.html" class="logout-btn" onclick="logout()">Salir</a>
            </div>
        </div>
    </header>

    <div class="dashboard-container">
        <main class="main-content">
            <!-- Welcome Section -->
            <section class="welcome-section card">
                <div class="welcome-content">
                    <div class="grade-badge">8° Grado</div>
                    <h1>¡Bienvenida a tu aventura matemática!</h1>
                    <p>Continúa aprendiendo y divirtiéndote con nuestros juegos interactivos diseñados especialmente para ti.</p>
                    
                    <div class="quick-stats">
                        <div class="stat-item">
                            <div class="stat-number" id="gamesCompleted">12</div>
                            <div class="stat-label">Juegos Completados</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" id="totalPoints">2,450</div>
                            <div class="stat-label">Puntos Totales</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" id="currentLevel">8</div>
                            <div class="stat-label">Nivel Actual</div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Progress Overview -->
            <section class="progress-section">
                <div class="progress-card">
                    <div class="progress-icon">📊</div>
                    <div class="progress-title">Álgebra</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 75%;"></div>
                    </div>
                    <div class="progress-text">75% completado</div>
                </div>

                <div class="progress-card">
                    <div class="progress-icon">📐</div>
                    <div class="progress-title">Geometría</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 60%;"></div>
                    </div>
                    <div class="progress-text">60% completado</div>
                </div>

                <div class="progress-card">
                    <div class="progress-icon">📈</div>
                    <div class="progress-title">Estadística</div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 45%;"></div>
                    </div>
                    <div class="progress-text">45% completado</div>
                </div>
            </section>

            <!-- Games Section -->
            <section class="games-section">
                <h2>🎮 Tus Juegos</h2>
                <div class="games-grid" id="gamesGrid">
                    <!-- Los juegos se cargarán dinámicamente -->
                </div>
            </section>
        </main>

        <aside class="sidebar">
            <!-- Achievements -->
            <div class="achievements-card">
                <h3>🏆 Logros Recientes</h3>
                <div class="achievement-item">
                    <div class="achievement-icon">🔥</div>
                    <div class="achievement-info">
                        <h4>Racha de Fuego</h4>
                        <div class="achievement-desc">7 días consecutivos jugando</div>
                    </div>
                </div>
                <div class="achievement-item">
                    <div class="achievement-icon">🎯</div>
                    <div class="achievement-info">
                        <h4>Precisión Total</h4>
                        <div class="achievement-desc">100% en ecuaciones lineales</div>
                    </div>
                </div>
                <div class="achievement-item">
                    <div class="achievement-icon">⚡</div>
                    <div class="achievement-info">
                        <h4>Velocidad Luz</h4>
                        <div class="achievement-desc">Resolviste 10 problemas en 2 min</div>
                    </div>
                </div>
            </div>

            <!-- Streak Calendar -->
            <div class="streak-card">
                <h3>📅 Racha de Estudio</h3>
                <div class="streak-number" id="streakCount">7</div>
                <div class="streak-text">días consecutivos</div>
                <div class="streak-calendar" id="streakCalendar">
                    <!-- Se genera dinámicamente -->
                </div>
            </div>

            <!-- Leaderboard -->
            <div class="leaderboard-card">
                <h3>🥇 Ranking del Grado</h3>
                <div class="leaderboard-item">
                    <span class="leaderboard-position">#1</span>
                    <span class="leaderboard-name">Carlos M.</span>
                    <span class="leaderboard-score">3,200 pts</span>
                </div>
                <div class="leaderboard-item">
                    <span class="leaderboard-position">#2</span>
                    <span class="leaderboard-name">Ana L.</span>
                    <span class="leaderboard-score">2,890 pts</span>
                </div>
                <div class="leaderboard-item" style="background: rgba(59, 130, 246, 0.1); border-radius: 8px; margin: 0 -8px; padding-left: 8px; padding-right: 8px;">
                    <span class="leaderboard-position">#3</span>
                    <span class="leaderboard-name">Tú (María)</span>
                    <span class="leaderboard-score">2,450 pts</span>
                </div>
                <div class="leaderboard-item">
                    <span class="leaderboard-position">#4</span>
                    <span class="leaderboard-name">Diego P.</span>
                    <span class="leaderboard-score">2,100 pts</span>
                </div>
                <div class="leaderboard-item">
                    <span class="leaderboard-position">#5</span>
                    <span class="leaderboard-name">Sofia R.</span>
                    <span class="leaderboard-score">1,950 pts</span>
                </div>
            </div>
        </aside>
    </div>

    <script>
        // Datos del estudiante (simulados)
        const studentData = {
            name: "María González",
            grade: 8,
            school: "Colegio San Patricio",
            totalPoints: 2450,
            gamesCompleted: 12,
            level: 8,
            streak: 7,
            avatar: "M"
        };

        // Datos de los juegos
        const gamesData = [
            {
                id: 1,
                title: "Álgebra Quest",
                category: "Expresiones Algebraicas",
                icon: "🧙‍♂️",
                status: "completed",
                progress: 100,
                stars: 3,
                points: 250,
                description: "Domina las expresiones algebraicas"
            },
            {
                id: 2,
                title: "Ecuaciones Lineales",
                category: "Álgebra",
                icon: "⚖️",
                status: "progress",
                progress: 65,
                stars: 2,
                points: 180,
                description: "Resuelve ecuaciones de primer grado"
            },
            {
                id: 3,
                title: "Teorema de Pitágoras",
                category: "Geometría",
                icon: "📐",
                status: "new",
                progress: 0,
                stars: 0,
                points: 0,
                description: "Explora los triángulos rectángulos"
            },
            {
                id: 4,
                title: "Gráficas Estadísticas",
                category: "Estadística",
                icon: "📊",
                status: "progress",
                progress: 30,
                stars: 1,
                points: 75,
                description: "Interpreta y crea gráficas"
            },
            {
                id: 5,
                title: "Sistemas de Ecuaciones",
                category: "Álgebra Avanzada",
                icon: "🔢",
                status: "locked",
                progress: 0,
                stars: 0,
                points: 0,
                description: "Desbloquea completando Ecuaciones Lineales"
            },
            {
                id: 6,
                title: "Funciones Lineales",
                category: "Funciones",
                icon: "📈",
                status: "completed",
                progress: 100,
                stars: 3,
                points: 300,
                description: "Entiende el comportamiento lineal"
            }
        ];

        // Generar el calendario de racha
        function generateStreakCalendar() {
            const calendar = document.getElementById('streakCalendar');
            const today = new Date();
            const days = ['D', 'L', 'M', 'M', 'J', 'V', 'S'];
            
            // Agregar encabezados de días
            days.forEach(day => {
                const dayElement = document.createElement('div');
                dayElement.textContent = day;
                dayElement.style.fontSize = '0.7rem';
                dayElement.style.color = '#64748b';
                dayElement.style.fontWeight = 'bold';
                calendar.appendChild(dayElement);
            });
            
            // Generar últimos 14 días
            for (let i = 13; i >= 0; i--) {
                const date = new Date(today);
                date.setDate(today.getDate() - i);
                
                const dayElement = document.createElement('div');
                dayElement.className = 'calendar-day';
                dayElement.textContent = date.getDate();
                
                // Simular actividad (últimos 7 días activos para la racha)
                if (i < 7) {
                    dayElement.classList.add('active');
                }
                
                if (i === 0) {
                    dayElement.classList.add('today');
                }
                
                calendar.appendChild(dayElement);
            }
        }

        // Generar tarjetas de juegos
        function generateGameCards() {
            const gamesGrid = document.getElementById('gamesGrid');
            
            gamesData.forEach((game, index) => {
                const gameCard = document.createElement('div');
                gameCard.className = 'game-card';
                gameCard.style.animationDelay = `${index * 0.1}s`;
                
                let statusClass = `status-${game.status}`;
                let statusText = {
                    'new': 'Nuevo',
                    'progress': 'En Progreso',
                    'completed': 'Completado',
                    'locked': 'Bloqueado'
                }[game.status];
                
                let stars = '';
                for (let i = 0; i < 3; i++) {
                    stars += `<span class="star ${i < game.stars ? '' : 'empty'}">★</span>`;
                }
                
                let buttonText = 'Jugar Ahora';
                let buttonDisabled = '';
                if (game.status === 'locked') {
                    buttonText = 'Bloqueado';
                    buttonDisabled = 'disabled';
                } else if (game.status === 'progress') {
                    buttonText = 'Continuar';
                } else if (game.status === 'completed') {
                    buttonText = 'Jugar de Nuevo';
                }
                
                gameCard.innerHTML = `
                    <div class="game-header">
                        <div class="game-icon">${game.icon}</div>
                        <div class="game-info">
                            <h3>${game.title}</h3>
                            <div class="game-category">${game.category}</div>
                        </div>
                    </div>
                    <div class="game-progress">
                        <div class="game-status">
                            <span class="status-badge ${statusClass}">${statusText}</span>
                            <div class="stars">${stars}</div>
                        </div>
                        ${game.progress > 0 ? `
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: ${game.progress}%;"></div>
                            </div>
                            <div class="progress-text">${game.progress}% completado</div>
                        ` : ''}
                        <p style="color: #94a3b8; font-size: 0.9rem; margin: 1rem 0;">${game.description}</p>
                        <button class="play-btn" ${buttonDisabled} onclick="playGame(${game.id})">${buttonText}</button>
                    </div>
                `;
                
                gamesGrid.appendChild(gameCard);
            });
        }

        // Animar contadores al cargar
        function animateCounters() {
            const counters = [
                { element: document.getElementById('gamesCompleted'), target: studentData.gamesCompleted },
                { element: document.getElementById('totalPoints'), target: studentData.totalPoints },
                { element: document.getElementById('currentLevel'), target: studentData.level },
                { element: document.getElementById('streakCount'), target: studentData.streak }
            ];

            counters.forEach(counter => {
                let current = 0;
                const increment = counter.target / 60; // 60 frames para la animación
                
                const timer = setInterval(() => {
                    current += increment;
                    if (current >= counter.target) {
                        current = counter.target;
                        clearInterval(timer);
                    }
                    
                    if (counter.element.id === 'totalPoints') {
                        counter.element.textContent = Math.floor(current).toLocaleString();
                    } else {
                        counter.element.textContent = Math.floor(current);
                    }
                }, 16);
            });
        }

        // Función para jugar un juego
        function playGame(gameId) {
            const game = gamesData.find(g => g.id === gameId);
            
            if (game.status === 'locked') {
                alert('🔒 Este juego está bloqueado. Completa los juegos anteriores para desbloquearlo.');
                return;
            }
            
            // Mostrar modal de juego o redirigir
            showGameModal(game);
        }

        // Modal de juego
        function showGameModal(game) {
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.8);
                display: flex;
                align-items: center;
                justify-content: center;
                z-index: 1000;
                backdrop-filter: blur(10px);
            `;
            
            modal.innerHTML = `
                <div style="
                    background: rgba(15, 23, 42, 0.95);
                    border: 1px solid rgba(255, 255, 255, 0.2);
                    border-radius: 25px;
                    padding: 3rem;
                    max-width: 500px;
                    width: 90%;
                    text-align: center;
                    color: white;
                ">
                    <div style="font-size: 4rem; margin-bottom: 1rem;">${game.icon}</div>
                    <h2 style="margin-bottom: 1rem; color: #f1f5f9;">${game.title}</h2>
                    <p style="color: #cbd5e1; margin-bottom: 2rem; line-height: 1.6;">${game.description}</p>
                    
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 2rem;">
                        <div style="background: rgba(59, 130, 246, 0.1); padding: 1rem; border-radius: 15px;">
                            <div style="font-size: 1.5rem; font-weight: bold; color: #3b82f6;">⭐</div>
                            <div style="color: #cbd5e1; font-size: 0.9rem;">Puntos por completar</div>
                            <div style="color: white; font-weight: bold;">${game.points || 300} pts</div>
                        </div>
                        <div style="background: rgba(34, 197, 94, 0.1); padding: 1rem; border-radius: 15px;">
                            <div style="font-size: 1.5rem; font-weight: bold; color: #22c55e;">🏆</div>
                            <div style="color: #cbd5e1; font-size: 0.9rem;">Dificultad</div>
                            <div style="color: white; font-weight: bold;">${getDifficulty(game.category)}</div>
                        </div>
                    </div>
                    
                    <div style="display: flex; gap: 1rem; justify-content: center;">
                        <button onclick="startGame(${game.id})" style="
                            background: linear-gradient(135deg, #3b82f6, #8b5cf6);
                            color: white;
                            border: none;
                            padding: 1rem 2rem;
                            border-radius: 20px;
                            font-weight: bold;
                            cursor: pointer;
                            font-size: 1rem;
                        ">🎮 Empezar Juego</button>
                        <button onclick="closeModal()" style="
                            background: transparent;
                            color: #cbd5e1;
                            border: 2px solid #475569;
                            padding: 1rem 2rem;
                            border-radius: 20px;
                            font-weight: bold;
                            cursor: pointer;
                            font-size: 1rem;
                        ">Cancelar</button>
                    </div>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // Cerrar modal al hacer clic fuera
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeModal();
                }
            });
            
            window.closeModal = () => {
                document.body.removeChild(modal);
            };
            
            window.startGame = (gameId) => {
                closeModal();
                // Aquí simularemos el inicio del juego
                simulateGameStart(gameId);
            };
        }

        function getDifficulty(category) {
            const difficulties = {
                'Expresiones Algebraicas': 'Media',
                'Álgebra': 'Media',
                'Geometría': 'Básica',
                'Estadística': 'Básica',
                'Álgebra Avanzada': 'Difícil',
                'Funciones': 'Media'
            };
            return difficulties[category] || 'Media';
        }

        function simulateGameStart(gameId) {
            const game = gamesData.find(g => g.id === gameId);
            
            // Crear overlay de carga del juego
            const loadingOverlay = document.createElement('div');
            loadingOverlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: linear-gradient(135deg, #0f172a, #1e293b);
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                z-index: 2000;
                color: white;
            `;
            
            loadingOverlay.innerHTML = `
                <div style="text-align: center;">
                    <div style="font-size: 5rem; margin-bottom: 2rem; animation: bounce 1s infinite;">${game.icon}</div>
                    <h2 style="margin-bottom: 1rem;">Cargando ${game.title}...</h2>
                    <div style="width: 300px; height: 6px; background: rgba(255, 255, 255, 0.2); border-radius: 3px; overflow: hidden;">
                        <div id="loadingBar" style="height: 100%; background: linear-gradient(90deg, #3b82f6, #8b5cf6); width: 0%; transition: width 0.3s ease;"></div>
                    </div>
                    <p style="margin-top: 1rem; color: #cbd5e1;">Preparando la experiencia de aprendizaje...</p>
                </div>
            `;
            
            document.body.appendChild(loadingOverlay);
            
            // Simular progreso de carga
            let progress = 0;
            const loadingBar = loadingOverlay.querySelector('#loadingBar');
            
            const loadingInterval = setInterval(() => {
                progress += Math.random() * 15;
                if (progress >= 100) {
                    progress = 100;
                    clearInterval(loadingInterval);
                    
                    setTimeout(() => {
                        document.body.removeChild(loadingOverlay);
                        
                        // Mostrar mensaje de juego iniciado
                        showNotification(`🎮 ¡${game.title} iniciado!`, 'success');
                        
                        // Aquí normalmente redirigiríamos al juego real
                        setTimeout(() => {
                            alert(`🎯 ¡Genial! El juego "${game.title}" se está cargando...\n\n¿Te gustaría que desarrolle este juego específico como el próximo paso?`);
                        }, 1000);
                    }, 500);
                }
                
                loadingBar.style.width = progress + '%';
            }, 200);
        }

        // Sistema de notificaciones
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'success' ? 'rgba(34, 197, 94, 0.9)' : 'rgba(59, 130, 246, 0.9)'};
                color: white;
                padding: 1rem 2rem;
                border-radius: 15px;
                backdrop-filter: blur(10px);
                z-index: 3000;
                animation: slideInRight 0.5s ease;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            `;
            
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOutRight 0.5s ease forwards';
                setTimeout(() => {
                    if (document.body.contains(notification)) {
                        document.body.removeChild(notification);
                    }
                }, 500);
            }, 3000);
        }

        // Función de logout
        function logout() {
            if (confirm('¿Estás seguro de que quieres cerrar sesión?')) {
                showNotification('¡Hasta luego! Sigue aprendiendo 📚', 'info');
                setTimeout(() => {
                    alert('Redirigiendo a la página de inicio...');
                    // Aquí normalmente redirigiríamos al login
                }, 2000);
            }
        }

        // Crear partículas matemáticas flotantes
        function createMathParticles() {
            const symbols = ['∑', '∫', 'π', '∞', '√', '∆', '∂', 'α', 'β', 'γ', '≈', '≤', '≥', '±', 'θ', 'Ω'];
            
            for (let i = 0; i < 8; i++) {
                setTimeout(() => {
                    const particle = document.createElement('div');
                    particle.className = 'math-float';
                    particle.textContent = symbols[Math.floor(Math.random() * symbols.length)];
                    particle.style.left = Math.random() * 100 + 'vw';
                    particle.style.animationDuration = (Math.random() * 10 + 10) + 's';
                    particle.style.fontSize = (Math.random() * 20 + 15) + 'px';
                    
                    document.body.appendChild(particle);
                    
                    setTimeout(() => {
                        if (document.body.contains(particle)) {
                            document.body.removeChild(particle);
                        }
                    }, 15000);
                }, Math.random() * 2000);
            }
        }

        // Animaciones adicionales
        const additionalStyles = `
            @keyframes bounce {
                0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
                40% { transform: translateY(-10px); }
                60% { transform: translateY(-5px); }
            }
            
            @keyframes slideInRight {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            
            @keyframes slideOutRight {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
            
            .progress-fill {
                animation: fillProgress 2s ease-out forwards;
            }
            
            @keyframes fillProgress {
                from { width: 0%; }
            }
        `;
        
        const styleSheet = document.createElement('style');
        styleSheet.textContent = additionalStyles;
        document.head.appendChild(styleSheet);

        // Inicialización de la página
        document.addEventListener('DOMContentLoaded', function() {
            // Generar contenido dinámico
            generateGameCards();
            generateStreakCalendar();
            
            // Animar contadores después de un delay
            setTimeout(() => {
                animateCounters();
            }, 500);
            
            // Iniciar partículas matemáticas
            createMathParticles();
            setInterval(createMathParticles, 12000);
            
            // Mostrar notificación de bienvenida
            setTimeout(() => {
                showNotification('¡Bienvenida de vuelta, María! 🌟', 'success');
            }, 1000);
            
            // Simular notificación de nuevo logro después de 5 segundos
            setTimeout(() => {
                showNotification('🏆 ¡Nuevo logro desbloqueado: Estudiante Constante!', 'success');
            }, 5000);
        });

        // Easter egg: Konami code
        let konamiCode = [];
        const konamiSequence = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'KeyB', 'KeyA'];

        document.addEventListener('keydown', function(e) {
            konamiCode.push(e.code);
            if (konamiCode.length > konamiSequence.length) {
                konamiCode.shift();
            }
            
            if (konamiCode.length === konamiSequence.length && 
                konamiCode.every((code, index) => code === konamiSequence[index])) {
                
                // Easter egg activado
                document.body.style.animation = 'rainbow 2s infinite';
                showNotification('🎉 ¡Código secreto activado! Modo arcoíris ON', 'success');
                
                const rainbowStyle = `
                    @keyframes rainbow {
                        0% { filter: hue-rotate(0deg); }
                        100% { filter: hue-rotate(360deg); }
                    }
                `;
                
                const rainbowSheet = document.createElement('style');
                rainbowSheet.textContent = rainbowStyle;
                document.head.appendChild(rainbowSheet);
                
                setTimeout(() => {
                    document.body.style.animation = '';
                    document.head.removeChild(rainbowSheet);
                    showNotification('Modo normal restaurado ✨', 'info');
                }, 10000);
                
                konamiCode = [];
            }
        });

        console.log('🎮 Dashboard del estudiante cargado exitosamente');
        console.log('💡 Tip: Intenta el código Konami para una sorpresa...');
    </script>
</body>
</html>